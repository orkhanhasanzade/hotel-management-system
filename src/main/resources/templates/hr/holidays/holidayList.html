<!DOCTYPE html>
<html lang="en" data-layout-decorate="~{fragments/layout}"> 

<head>
<title>Holidays</title>
</head>

<body>

	<div data-layout-fragment="content">
	
  		<th:block th:include="hr/holidays/holidayCreate"></th:block>
	    <th:block th:include="hr/holidays/holidayEdit"></th:block>  
	    
	    <!-- START PAGE CONTENT-->
 		<div class="page-heading"></div>  
		<ul class="breadcrumb" style="background-color: #f1f1f1;">
				<li class="breadcrumb-item"><a href="/">Home</a></li>
				<li class="breadcrumb-item active" aria-current="page">
					Holiday list
				</li>				
		</ul>

		<div class="page-heading"> 
		
			  <div style="float: left;width: 250px; padding: 50px">
		      		
						<div class="btn-group m-b-10">
		                            <button class="btn btn-default"><i class="fa fa-calendar"></i></button>
		                            <div style="width:13em;">
		                            	<a class="btn btn-primary btn-lg btn-block btnShowHolidays" th:href="@{/holidays/1}">January</a>
		                             </div>
		                </div>
		                <div class="btn-group m-b-10">
		                            <button class="btn btn-default"><i class="fa fa-calendar"></i></button>
		                            <div style="width:13em;">
		                            	<a class="btn btn-primary btn-lg btn-block btnShowHolidays" th:href="@{/holidays/2}">February</a>
		                            </div>
		                </div>
		                <div class="btn-group m-b-10">
		                            <button class="btn btn-default"><i class="fa fa-calendar"></i></button>
		                            <div style="width:13em;">
		                            	<a class="btn btn-primary btn-lg btn-block btnShowHolidays"  th:href="@{/holidays/3}">March</a>
		                            </div>
		                </div>
		                <div class="btn-group m-b-10">
		                            <button class="btn btn-default"><i class="fa fa-calendar"></i></button>
		                            <div style="width:13em;">
		                            	<a class="btn btn-primary btn-lg btn-block btnShowHolidays" th:href="@{/holidays/4}">April</a>
		                            </div>
		                </div>
		                <div class="btn-group m-b-10">
		                            <button class="btn btn-default"><i class="fa fa-calendar"></i></button>
		                            <div style="width:13em;">
		                           		<a class="btn btn-primary btn-lg btn-block btnShowHolidays" th:href="@{/holidays/5}">May</a>
		                           	</div>
		                </div>
		                <div class="btn-group m-b-10">
		                            <button class="btn btn-default"><i class="fa fa-calendar"></i></button>
		                            <div style="width:13em;">
		                            	<a class="btn btn-primary btn-lg btn-block btnShowHolidays" th:href="@{/holidays/6}">June</a>
		                            </div>
		                </div>
		                <div class="btn-group m-b-10">
		                            <button class="btn btn-default"><i class="fa fa-calendar"></i></button>
		                            <div style="width:13em;">
		                            	<a class="btn btn-primary btn-lg btn-block btnShowHolidays" th:href="@{/holidays/7}">July</a>
		                            </div>
		                </div>
		                <div class="btn-group m-b-10">
		                            <button class="btn btn-default"><i class="fa fa-calendar"></i></button>
		                            <div style="width:13em;">
		                            	<a class="btn btn-primary btn-lg btn-block btnShowHolidays" th:href="@{/holidays/8}">August</a>
		                            </div>
		                </div>
		                <div class="btn-group m-b-10">
		                            <button class="btn btn-default"><i class="fa fa-calendar"></i></button>
		                            <div style="width:13em;">
		                            	<a class="btn btn-primary btn-lg btn-block btnShowHolidays" th:href="@{/holidays/9}">September</a>
		                            </div>
		                </div>
		                <div class="btn-group m-b-10">
		                            <button class="btn btn-default"><i class="fa fa-calendar"></i></button>
		                            <div style="width:13em;">
		                            	<a class="btn btn-primary btn-lg btn-block btnShowHolidays" th:href="@{/holidays/10}">October</a>
		                            </div>
		                </div>
		                <div class="btn-group m-b-10">
		                            <button class="btn btn-default"><i class="fa fa-calendar"></i></button>
		                            <div style="width:13em;">
		                            	<a class="btn btn-primary btn-lg btn-block btnShowHolidays" th:href="@{/holidays/11}">November</a>
		                            </div>
		                </div>
		                <div class="btn-group m-b-10">
		                            <button class="btn btn-default"><i class="fa fa-calendar"></i></button>
		                            <div style="width:13em;">
		                            	<a class="btn btn-primary btn-lg btn-block btnShowHolidays" th:href="@{/holidays/12}">December</a>
		                            </div>
		                </div>
			   </div>
			
					
			  <div style="float: none;overflow: hidden; padding: 50px" > 
			  
			  	<h2>Holidays</h2>
				<button type="button" class="btn btn-primary btnNewHoliday" th:href="@{/holiday/create}">
							Add New
			    </button><br></br>         
			     
			    <div id="holidays">	
						<div class="ibox">
							<div class="ibox-head" style = "background-color:#3498db; color:white;">			
							 	<h5>List</h5>
							</div>
							
							<div class="ibox-body">
										<table id="holidayTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
											<thead>
												<tr>
													<th>Id</th>
													<th>Name</th>
													<th>Year</th>
													<th>Month</th>
													<th>Start Date</th>
													<th>End Date</th>
													<th>Description</th>											
													<th>Action</th>
												</tr>
											</thead>
											<tbody>
												<tr th:each="holiday : ${holidays}">
													<td th:text="${holiday.id}"></td>
													<td th:text="${holiday.name}"></td>	
													<td th:text="${holiday.year}"></td>												
													<td>									      
														 <span th:if="${holiday.month == 1}" th:text="${'January'}"></span>
														 <span th:if="${holiday.month == 2}" th:text="${'February'}"></span>
														 <span th:if="${holiday.month == 3}" th:text="${'March'}"></span>
														 <span th:if="${holiday.month == 4}" th:text="${'April'}"></span>
														 <span th:if="${holiday.month == 5}" th:text="${'May'}"></span>
														 <span th:if="${holiday.month == 6}" th:text="${'June'}"></span>
														 <span th:if="${holiday.month == 7}" th:text="${'July'}"></span>
														 <span th:if="${holiday.month == 8}" th:text="${'August'}"></span>
														 <span th:if="${holiday.month == 9}" th:text="${'September'}"></span>
														 <span th:if="${holiday.month == 10}" th:text="${'October'}"></span>
														 <span th:if="${holiday.month == 11}" th:text="${'November'}"></span>
														 <span th:if="${holiday.month == 12}" th:text="${'December'}"></span>
												    </td>												
													<td th:text="${holiday.fromDate}"></td>
													<td th:text="${holiday.toDate}"></td>
													<td th:text="${holiday.description}"></td>																																
													<td>
															<a	th:href="@{/holiday/edit/} + ${holiday.id}"
																class="btn btn-default btn-xs m-r-5 btnEditHoliday"
																data-toggle="tooltip" data-original-title="Edit"> 
																<i class="fa fa-pencil font-20"></i></a>
															<a	th:href="@{/holiday/delete/} + ${holiday.id}"
																class="btn btn-default btn-xs" data-toggle="tooltip"
																data-original-title="Delete"> 
																<i class="fa fa-trash font-20"></i></a> 
													</td>																		
												</tr>										
											</tbody>
										</table>																																																 																			
							</div><!-- ibox-body -->
						</div><!-- ibox -->	
					 </div>	
			  </div>
			
		</div> <!-- page-content -->
		
		<!-- scripts -->
		<div data-th-replace="fragments/scripts :: scripts"></div> 

		<script>			
			 <!-- Create New Holiday Modal --> 
	         $('.btnNewHoliday').on('click', function(event){
	             //prevents redirection to blank page with JSON-Task-Object
	             event.preventDefault(); 
	             var href = $(this).attr('href');
	             
	             $.get(href, function(data){              	
	             	 $("#modal-body-holiday-create").html(data);
	             });
	           
	             $('#newHolidayModal').modal('show'); 
	         });
			
	        <!-- Edit Holiday Modal-->
	 		$('.btnEditHoliday').on('click', function(event){
			    //prevents redirection to blank page with JSON-Task-Object
			    event.preventDefault();
			    var href = $(this).attr('href');
			
			    $.get(href, function(data){
			    	$("#modal-body-holiday-edit").html(data);  
			    });
			
			    $('#editHolidayModal').modal('show'); 
			});	
	 		
			<!-- Show Holidays Of Month -->
			$('.btnShowHolidays').on('click', function(event)
			{   //prevents redirection to blank page with JSON-Task-Object
			    event.preventDefault();
			    var href = $(this).attr('href');			    
			    $.get(href, function(data)
			    {			 
					  $("#holidays").empty();
			          $("#holidays").append( data ); 	
			    });
			});	
			
			$(document).ready(function()
			{	 		
				$('#holidayTable').DataTable( {
							dom: 'Bfrtip',
						    buttons: [
						            'copy', 'csv', 'excel', 'pdf', 'print'
						    ]
				});								
			});		
		</script>	

	</div><!-- content -->

</body>
</html>

